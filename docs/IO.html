<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta id="repository-name" content="github.com/taylorfinnell/io-binary">
  <link href="css/style.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="js/doc.js"></script>
  <title>IO - github.com/taylorfinnell/io-binary</title>
</head>
<body>

<div id="types-list">
  <div id="search-box">
    <input type="search" id="search-input" placeholder="Search...">
  </div>

  <ul>
    <li><a href="index.html">README</a></li>
  </ul>

  <ul>
  
  <li class="parent current" data-id="github.com/taylorfinnell/io-binary/IO" data-name="io">
      <a href="IO.html">IO</a>
      
        <ul>
  
  <li class=" " data-id="github.com/taylorfinnell/io-binary/IO/Binary" data-name="io::binary">
      <a href="IO/Binary.html">Binary</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

</div>

<div id="main-content">
<h1 class="type-name">

  <span class="kind">module</span> IO

</h1>





  <h2>Overview</h2>

  <p>The <code><a href="IO.html">IO</a></code> module is the basis for all input and output in Crystal.</p>

<p>This module is included by types like <code>File</code>, <code>Socket</code> and <code>IO::Memory</code> and
provide many useful methods for reading to and writing from an IO, like <code>print</code>, <code>puts</code>,
<code>gets</code> and <code>printf</code>.</p>

<p>The only requirement for a type including the <code><a href="IO.html">IO</a></code> module is to define
these two methods:</p>

<ul><li><code>read(slice : Bytes)</code>: read at most <em>slice.size</em> bytes into <em>slice</em> and return the number of bytes read</li><li><code>write(slice : Bytes)</code>: write the whole <em>slice</em> into the IO</li></ul>

<p>For example, this is a simple <code><a href="IO.html">IO</a></code> on top of a <code>Bytes</code>:</p>

<pre><code><span class="k">class</span> <span class="t">SimpleSliceIO</span>
  <span class="k">include</span> <span class="t">IO</span>

  <span class="k">def</span> <span class="m">initialize</span>(@slice : <span class="t">Bytes</span>)
  <span class="k">end</span>

  <span class="k">def</span> <span class="m">read</span>(slice : <span class="t">Bytes</span>)
    slice.size.times { <span class="o">|</span>i<span class="o">|</span> slice[i] <span class="o">=</span> @slice[i] }
    @slice += slice.size
    slice.size
  <span class="k">end</span>

  <span class="k">def</span> <span class="m">write</span>(slice : <span class="t">Bytes</span>)
    slice.size.times { <span class="o">|</span>i<span class="o">|</span> @slice[i] <span class="o">=</span> slice[i] }
    @slice += slice.size
    <span class="n">nil</span>
  <span class="k">end</span>
<span class="k">end</span>

slice <span class="o">=</span> <span class="t">Slice</span>.<span class="k">new</span>(<span class="n">9</span>) { <span class="o">|</span>i<span class="o">|</span> (<span class="s">'a'</span>.ord <span class="o">+</span> i).to_u8 }
<span class="t">String</span>.<span class="k">new</span>(slice) <span class="c"># &#61;&gt; &quot;abcdefghi&quot;</span>

io <span class="o">=</span> <span class="t">SimpleSliceIO</span>.<span class="k">new</span>(slice)
io.gets(<span class="n">3</span>) <span class="c"># &#61;&gt; &quot;abc&quot;</span>
io.print <span class="s">&quot;xyz&quot;</span>
<span class="t">String</span>.<span class="k">new</span>(slice) <span class="c"># &#61;&gt; &quot;abcxyzghi&quot;</span></code></pre>

<h3>Encoding</h3>

<p>An <code><a href="IO.html">IO</a></code> can be set an encoding with the <code>#set_encoding</code> method. When this is
set, all string operations (<code>gets</code>, <code>gets_to_end</code>, <code>read_char</code>, <code><<</code>, <code>print</code>, <code>puts</code>
<code>printf</code>) will write in the given encoding, and read from the given encoding.
Byte operations (<code>read</code>, <code>write</code>, <code>read_byte</code>, <code>write_byte</code>) never do
encoding/decoding operations.</p>

<p>If an encoding is not set, the default one is UTF-8.</p>

<p>Mixing string and byte operations might not give correct results and should be
avoided, as string operations might need to read extra bytes in order to get characters
in the given encoding.</p>











  <h2>Direct including types</h2>
  <ul class="other-types-list">
  
    <li class="other-type"><a href="IO/Binary.html">IO::Binary</a></li>
  
  </ul>




  <h2>Defined in:</h2>
  
    
      <a href="https://github.com/taylorfinnell/io-binary/blob/aab6155499085d28a1207635eeee709f16bc5eb4/src/io-binary/version.cr#L1" target="_blank">io-binary/version.cr</a>
    
    <br/>
  
    
      <a href="https://github.com/taylorfinnell/io-binary/blob/aab6155499085d28a1207635eeee709f16bc5eb4/src/io-binary.cr#L4" target="_blank">io-binary.cr</a>
    
    <br/>
  













<div class="methods-inherited">
  
</div>









</div>

</body>
</html>
